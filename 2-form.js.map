{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// const elems = {\n//     btn: document.querySelector('.button)';\n// }\n// elems.btn.addEventListener('clack', setStorageData);\n\n// function setStorageData(event) {\n//     localStorage.setItem('elem', event.target.className);\n// }\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    const STORAGE_KEY = 'feedback-form-state';\n\n    let formData = { email: '', message: '' };\n\n    const form = document.querySelector('.feedback-form');\n    const textarea = form.querySelector('.text');\n    // const textarea = form.querySelector('textarea');\n    const emailInput = form.querySelector('input[name=\"email\"]');\n\n    const savedData = localStorage.getItem(STORAGE_KEY);\n    if (savedData) {\n        try { \n        formData = JSON.parse(savedData);\n        emailInput.value = formData.email || '';\n        textarea.value = formData.message || '';\n        } catch (error) {  \n        \n    }\n }\n    textarea.addEventListener('input', handleMessageInput);\n    emailInput.addEventListener('input', handleEmailInput);\n    form.addEventListener('submit', handleFormSubmit);\n\n\n    function handleFormSubmit(event) {\n        event.preventDefault();\n\n        // formData[event.target.name] = event.target.value.trim();\n        formData.email = emailInput.value.trim();\n        formData.message = textarea.value.trim();\n\n        if (formData.email === \"\" || formData.message === \"\") {\n            alert('Fill please all fields');\n            return;\n        };\n        \n localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n       console.log(formData);\n       \n        // const form = event.currentTarget;\n        localStorage.removeItem(STORAGE_KEY);\n        form.reset();\n        event.target.reset();\n        \n    };\n\n\n    function handleMessageInput(event) {\n        formData.message = event.target.value;\n\n        console.log(event.target.value);\n\n        //   formData.message = event.target.value;\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n        console.log(formData.message);\n        \n\n        // let data;\n        // if (typeof event.target.value !== \"string\") {\n        //     data = JSON.stringify(event.target.value);\n        // }\n        // data = event.target.value;\n\n        // localStorage.setItem(STORAGE_KEY, data)\n        \n    };\n\n     function handleEmailInput(event) {\n        \n          formData.email = event.target.value;\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n        console.log(event.target.value); \n    }\n\n});"],"names":["STORAGE_KEY","formData","form","textarea","emailInput","savedData","handleMessageInput","handleEmailInput","handleFormSubmit","event"],"mappings":"wFAQA,SAAS,iBAAiB,mBAAoB,IAAM,CAEhD,MAAMA,EAAc,sBAEpB,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,cAAc,OAAO,EAErCE,EAAaF,EAAK,cAAc,qBAAqB,EAErDG,EAAY,aAAa,QAAQL,CAAW,EAClD,GAAIK,EACA,GAAI,CACJJ,EAAW,KAAK,MAAMI,CAAS,EAC/BD,EAAW,MAAQH,EAAS,OAAS,GACrCE,EAAS,MAAQF,EAAS,SAAW,EACpC,MAAe,CAEnB,CAEDE,EAAS,iBAAiB,QAASG,CAAkB,EACrDF,EAAW,iBAAiB,QAASG,CAAgB,EACrDL,EAAK,iBAAiB,SAAUM,CAAgB,EAGhD,SAASA,EAAiBC,EAAO,CAO7B,GANAA,EAAM,eAAc,EAGpBR,EAAS,MAAQG,EAAW,MAAM,KAAI,EACtCH,EAAS,QAAUE,EAAS,MAAM,KAAI,EAElCF,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CAClD,MAAM,wBAAwB,EAC9B,MAEZ,CACC,aAAa,QAAQD,EAAa,KAAK,UAAUC,CAAQ,CAAC,EACpD,QAAQ,IAAIA,CAAQ,EAGnB,aAAa,WAAWD,CAAW,EACnCE,EAAK,MAAK,EACVO,EAAM,OAAO,OAGrB,CAEI,SAASH,EAAmBG,EAAO,CAC/BR,EAAS,QAAUQ,EAAM,OAAO,MAEhC,QAAQ,IAAIA,EAAM,OAAO,KAAK,EAG9B,aAAa,QAAQT,EAAa,KAAK,UAAUC,CAAQ,CAAC,EAC1D,QAAQ,IAAIA,EAAS,OAAO,CAYpC,CACK,SAASM,EAAiBE,EAAO,CAE5BR,EAAS,MAAQQ,EAAM,OAAO,MAChC,aAAa,QAAQT,EAAa,KAAK,UAAUC,CAAQ,CAAC,EAC1D,QAAQ,IAAIQ,EAAM,OAAO,KAAK,CACjC,CAEL,CAAC"}